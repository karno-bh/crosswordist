import base64
import compressed_seq


def test_compressed_bit_seq():
    # t = "gYAgK4EBSYGAICGBD0yB/iAvRIHAGoIfwBWBA0SB+BKBH0SBwBSBP0aB/B2BH0GB/gaBP0GB/AuBf0WB8A+BB0yB/hqCf/gJgQwRgR9IgfAgJoEfRIHAGYE/RYH8IDuBH0WB4CAqgQNCgf4HRIH4DYMP/AFBgYAD"
    t = "ICyBAWArgfAiIg=="
    # t = "giCAA4EGAYlomDhACAIwYAQCjAwIWyIEQAITAapEAQKBBgKBAQGEBCCKCAGBVgGDD4ggAYYPgCIKEAwBgg8IA4kIAkJMAQFRQhACgwaDIgGBxAGBBAKCQBABiUYtIiTDAYYIGAKGIAJBHCAQAYLABQGDAYAQBIIDEQOLIIYmAQcjCYiAQBADhhSD+gUoJQGKIBwCQAaAJGAiFAGBQgGEAQUgJgGBgAGBQAGEAgwwgAGFIBAwAlIBhQQEcCWAAosFBgQBBDQgBAKocAKDASRAAoQogCIwAYqgAaAgBgtQOIBiAYKQAwGGEAiAMwggAYEKA4tMgLAIMAOLA4NOQQGFBSUIBYABi6QQA2QEICCDgSYCAoMCBKQBh1ABQIA0QAEBggQQAYIEyQGFCEgcSEEBgkBAAYEBAYIUEAGBIAGJoUAcQisBAYLIAodRQRwBcIAmAYIiCQGJaJQEkAgoCgb1AYJAIAKGAVCJoCCkAYIIQASECRBAAQGBgQGBQAGCBAgBgRQBhRwQCghLAYMQBoABgQIDiQqRFgZoImABhgGHQ5kEKeACCAGDCqMEAYFIAYKcgAGCcBEBiBAkEAQQcAWgAYRSkTRgAYNgGQIBi0iRthGjDhCJFjAQAYHUAYkEhDLgBCECgCIBhBFAFiABhTSIUhAQAYFAAYEgAYRBlUAKAYEEAYJcQAKECCBDBAGCAyABgQEBhMBiGE0BgwjCCQGBtAGBiAGGAcDkQgwIAoQBBrghAYGAAYMMIAQDgVEBggmEAYOYIAEChgoBRey3oAGBBgKBEQGCQAQBgUABgQ8ChGEJiEEBgYEBgRABgTQBgQEBhMACHEQBgyHJCAKDKAToAYTAEBIBAoJAAQWBWAGFIEAaBEUCgUEBgQEBggEQAYYghOgkggECgk5IAoFAAYc4ggFI4UKQAoROQAxQAYJAoAGJAQ0ExrRBKYAg"
    bs = base64.b64decode(t)
    res = compressed_seq.bit_index_native(bs)
    print(len(res))

def main():
    test_compressed_bit_seq()

if __name__ == '__main__':
    main()
